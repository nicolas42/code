<!DOCTYPE html>
<STYLE>
* { box-sizing: border-box; } 
* { padding: 1px; margin: 1px; border: 1px solid #eeeeee; }
select { width: 100%; height: 80%; }
audio { width: 100%; }
/* * { font: 20px 'Open Sans', sans-serif; font-weight: 300; } */
/* * { background-color: #111111; color: #dddddd; } */
/* hr { height:1px; border-width:0;color:#eeeeee;background-color:#eeeeee; }  */
</STYLE>

<AUDIO id="audio" controls><source type="audio/mp3">Sorry, your browser does not support HTML5 audio.</AUDIO>
<HR>
<SELECT name="filename" id="select" size="50" onchange="play_selected(this);"></SELECTt>  

<SCRIPT src="data/mp3_files.js">
// this script defines the array
// mp3_files = [...];
// which contains all the filenames we want to play.
</SCRIPT>

<SCRIPT>

function play_selected(form) {
    let audio = document.getElementById("audio");
    audio.src = form.selectedOptions[0].value; // mp3_files[select.selectedIndex]; 
    audio.play();
    return false; // don't know if necessary but I'm afraid of onchange event handlers
}


// populate select
let select = document.getElementById("select");
let i,j;
for(j=0;j<10;++j) {
    for(i=0;i<mp3_files.length;++i) {
        let option = document.createElement("option");
        option.value = mp3_files[i];
        option.innerHTML = mp3_files[i];
        select.appendChild(option);

    }
}


let audio = document.getElementById("audio");
audio.onended = function(event){ 
    select.selectedIndex += 1
    play_selected(select);
    
};



// function play_pause()
// {
// 	if (audio.paused == true){
// 		audio.play();
// 	} else {
// 		audio.pause();
// 	}
// }


// // seek
// audio.currentTime += seconds;
// // mute 
// audio.volume = 0.0;
// audio.muted = true;


</SCRIPT>
